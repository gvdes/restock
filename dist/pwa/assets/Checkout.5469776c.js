import{r,c as k,o as m,b as w,w as s,u as qe,a as je,d as l,h as x,e as f,aE as u,t as n,f as o,aF as j,i as E,aJ as ae,Q as le,aG as oe,aH as se,aI as Ie,aA as G,aK as Re,aL as Ae,aM as Te,x as ze,R as ve}from"./index.6c710a1a.js";import{Q as Ne,a as Be}from"./QForm.6733bc76.js";import{Q as K}from"./QSpace.13bc4cea.js";import{Q as Le,a as me}from"./QToggle.c9e32098.js";import{u as Fe,s as M,w as I,a as ie,Q as fe,t as _e,v as be,x as ne,y as R,z as q}from"./QTable.941f1c09.js";import{Q as Ge,a as Ke,b as Me}from"./QLayout.38273bc0.js";import{b as _,c as de,a as A,Q as T}from"./QCardActions.a99222b4.js";import{Q as He}from"./QPage.fdf8f5ad.js";import{Q as ge}from"./QFooter.25a3bc7e.js";import{C as ye}from"./ClosePopup.b8430672.js";import"./dayjs.min.25545ff6.js";import{R as C}from"./RestockApi.f0c7f0de.js";import{p as he}from"./pdfCreate.2740acd2.js";import{$sktRestock as z,usrSkt as Oe}from"./socket.1aa8b866.js";import{A as H}from"./AssistApi.d49e53f7.js";import"./rtl.265bbe46.js";import"./_commonjsHelpers.88e99c8f.js";import"./axios.10c2b4ae.js";import"./jspdf.plugin.autotable.bb74c49f.js";const Je=o("div",{class:"text-bold"},"Origen : ",-1),We={class:"q-px-md q-py-sm"},Xe={class:"col row justify-between"},Ye=o("div",{class:"text-bold"},"Surtidor :",-1),Ze=o("div",{class:"text-bold"},"Notas :",-1),et=o("div",{class:"text-bold"},"Destino :",-1),tt=o("div",{class:"text-bold"},"Particion :",-1),at={class:"col row justify-between"},lt={key:0,class:"row items-center justify-between q-pt-sm"},ot=o("span",{class:"text--2"},"Agotados:",-1),st=o("span",{class:"text--2"},"Con stock:",-1),it=o("span",{class:"text--2"},"Por revisar:",-1),nt=o("span",{class:"text--2"},"Revisados:",-1),dt=o("span",{class:"text--2"},"Cajas Contadas:",-1),ut={class:"q-mx-sm text-h6"},rt={class:"row"},ct={class:"col"},pt=o("div",{class:"text-h6"},"Productos sin revisar",-1),vt={class:"full-width row items-center justify-between"},mt={class:"col"},ft=o("div",{class:"text-h6"},"Productos revisados",-1),_t={class:"full-width row items-center justify-between"},bt={class:"row justify-between"},gt={class:"text-left"},yt={class:"text--3"},ht={class:"text-h6"},xt={class:"text-right"},kt={class:"text-bold"},wt={class:"text--2"},Vt={class:"text-center"},Ct={class:"text-h6"},Qt=o("div",{class:"text--2"},"PxC",-1),St={class:"text-h6"},Et={class:"text--2"},Pt={class:"row items-start justify-between"},$t={class:"text-center col text-primary"},Dt=o("div",null,"Solicitud",-1),Ut={class:"text-bold"},qt={class:"text-center col"},jt=o("div",null,"Conteo",-1),It={class:"text-center col"},Rt=o("div",null,"PxC",-1),At={class:"text-center col"},Tt=o("div",null,"Piezas",-1),zt={class:"text-bold"},Nt=o("div",{class:"q-ml-md"},[o("div",{class:"text-h6 text-bold"},"Deseas terminar la revision?")],-1),Bt=o("div",null,"EL pedido ya no podra editarse y se emitira la salida correspondiente",-1),Lt=o("div",null,"en factusol",-1),Ft={class:"q-ml-sm"},Gt={class:"q-ml-sm"},Kt=o("div",null,"Quien Surtio?",-1),Mt={class:"q-pa-md text-bold text-uppercase text-center"},va={__name:"Checkout",setup(Ht){const p=qe(),xe=je(),y=Fe(),ke=Oe;r({state:!1});const N=r({state:!1,key:null}),O=r({state:!0}),J=r(!0),h=r({val:null,opts:[]}),P=r({val:null,opts:[{id:"GEN",label:"General"},{id:"EMP",label:"Empaques"}]}),c=r(null),$=r(["code","assocs","ipack","request","uspply","delivery","reqinpzs","checkout","stocks"]),Q=r([]),V=r(""),W=r(null),ue=r(null),X=r(null),b=r({columns:[{name:"id",label:"ID",field:"id",align:"left",coldesc:"Identificador del producto (MySQL)"},{name:"code",label:"Codigo",field:"code",align:"left",coldesc:"Codigo principal del producto"},{name:"assocs",label:"Asociados",field:e=>e.variants.length?e.variants.map(t=>t.barcode).join(", "):null,align:"left",coldesc:"Codigos relacionados al codigo principal"},{name:"bcode",label:"Codigo de Barras",field:"barcode",align:"center",coldesc:"Codigo de barras principal"},{name:"locs",label:"Ubicacion",field:e=>e.locations.length?e.locations.map(t=>t.path).join(", "):"--",align:"left",coldesc:"Ubicaciones en almacen general"},{name:"ipack",label:"PxC",field:e=>typeof e.pivot.ipack=="number"?e.pivot.ipack:e.pieces,align:"center",coldesc:"Unidades x Embalaje"},{name:"request",label:"Solicitud",field:e=>e.pivot.amount,align:"center",coldesc:"Embalaje solicitado"},{name:"uspply",label:"Unidad",field:e=>e.pivot._supply_by==3?"Cajas":e.pivot._supply_by==2?"Docenas":"Piezas",align:"left",coldesc:"Unidad de embalaje del producto"},{name:"delivery",label:"Conteo",field:e=>e.pivot.toDelivered,align:"center",coldesc:"Embalaje surtido",sortable:!0},{name:"reqinpzs",label:"Piezas",field:e=>e.pivot._supply_by==3?(typeof e.pivot.ipack=="number"?e.pivot.ipack:e.pieces)*(typeof e.pivot.ipack=="number"?e.pivot.toDelivered:e.pivot.amount):typeof e.pivot.ipack=="number"?e.pivot.toDelivered:e.pivot.amount,align:"center",coldesc:"Unidades totales en embalaje"},{name:"checkout",label:"Checkout",field:e=>e.pivot.checkout?"OK":null,classes:e=>e.pivot.checkout?"text-positive text-bold":"",align:"center",coldesc:"Revision del Administrador"},{name:"descr",label:"Descripcion",field:"description",align:"left"},{name:"section",label:"Seccion",field:"section",align:"left"},{name:"family",label:"Familia",field:"family",align:"left"},{name:"category",label:"Categoria",field:"category",align:"left"},{name:"stocks",label:"Stock (pzs)",field:e=>e.stocks.reduce((t,a)=>t+a.pivot.stock,0),sortable:!0,classes:e=>e.stocks.reduce((t,a)=>t+a.pivot.stock,0)<=0?"text-red text-bold":"text-bold text-primary",align:"center",coldesc:"Stock total en almacenes GENERALES (CEDIS+PAN)"}],filter:"",pagination:{sortBy:"locs",descending:!1,rowsPerPage:10}}),i=r({state:!1,item:null,form:{count:0,ipack:null,setting:!1}}),D=r({val:null,opts:null}),g=r([]),B=r({state:!1,code:null,text:null}),L=r({state:!1}),Y=k(()=>h.value.val?Q.value.filter(e=>e.pivot._suplier_id==h.value.val._suplier_id):[]),re=k(()=>c.value?c.value._status==5:!1),we=k(()=>Y.value.reduce((e,t)=>e+(t.pivot._supply_by==3?t.pivot.amount*t.pieces:t.pivot.amount),0)),Z=k(()=>Y.value.filter(e=>!e.pivot.checkout)),S=k(()=>Y.value.filter(e=>e.pivot.checkout)),Ve=k(()=>S.value.filter(e=>e.pivot.toDelivered==0)),Ce=k(()=>S.value.filter(e=>e.pivot.toDelivered>0)),F=k(()=>{let e=V.value.toUpperCase().trim();return e.length?Z.value.filter(t=>t.code.match(e)||t.barcode&&t.barcode.match(e)):Z.value}),Qe=k(()=>{let e=V.value.toUpperCase().trim();return e.length?S.value.filter(t=>t.code.match(e)||t.barcode&&t.barcode.match(e)):S.value}),ee=async()=>{y.loading.show({message:"Cargando..."}),console.log("Iniciando...");const e=await C.order(p.params.oid);if(console.log(e),e.status==200){Q.value=e.data.products,X.value=e.data.status,g.value=e.data,h.value.opts=e.data.partition;let t=await H.getVerified(g.value.to.id);console.log(t),D.value.opts=t,y.loading.hide()}else displayErrRequest(e);z.connect(),z.emit("joinat",ke)},Se=e=>{c.value=e,e._status==5&&(J.value=!1)},ce=(e,t,a)=>re.value?pe(t):null,pe=e=>{console.log(e),i.value.item=e,i.value.form.count=typeof e.pivot.toDelivered=="number"?e.pivot.toDelivered:0,i.value.form.ipack=typeof e.pivot.ipack=="number"?e.pivot.ipack:e.pieces,i.value.state=!0,ze(()=>{W.value.focus(),W.value.select()})},Ee=()=>{let e=V.value.toUpperCase().trim();if(e.length){let t=F.value.length==1?F.value[0]:F.value.find(a=>a.code==e||a.barcode==e);t?pe(t):y.notify({message:`Sin coincidencias para <b>${e}</b>`,color:"pink-5",position:"center",html:!0})}},Pe=async()=>{const e=parseInt(i.value.form.count),t=parseInt(i.value.form.ipack),a={order:p.params.oid,product:i.value.item.id,delivery:e,ipack:t,checkout:!0},d=await C.setDeliveryProduct(a);if(console.log(d),d.status==200){console.log(d.data);let v=Q.value.findIndex(U=>U.id==i.value.item.id);Q.value[v].pivot.toDelivered=e,Q.value[v].pivot.ipack=t,Q.value[v].pivot.checkout=1,i.value.state=!1,V.value="",y.notify({color:"positive",icon:"done",position:"right",message:""})}else alert(`Error ${d.status}: ${d.data}`)},$e=async()=>{y.loading.show({message:"Terminando, espera..."}),console.log(g.value._workpoint_from),L.value.state=!1;let e={id:p.params.oid,state:6,suply:h.value.val._suplier_id};console.log(e),console.log("... por acasito");let t=await H.nextState(e);if(t.status==200)if(c.value._status=t.data.partition._status,c.value.status.name=t.data.partition.name,g.value.from._type!=1){const a=await C.genInvoice(p.params.oid,c.value._suplier_id);if(console.log(a),t.data.partitionsEnd>g.value._status){let d={id:p.params.oid,state:t.data.partitionsEnd};const v=await C.nextState(d);console.log(v)}if(z.emit("orderpartition_refresh",{order:e.id}),a.status==200){if(a.data.invoice){y.notify({message:`Se genero la salida <b class="text-h6">${a.data.invoice.folio}</b>`,html:!0,position:"center",icon:"done",timeout:5e3,color:"positive"}),N.value.key=a.data.requisition.entry_key,he.pdf(a.data.invoice.folio,N.value.key,p.params.oid),console.log(c.value.id);const d=await C.genEntry(c.value.id);console.log(d),d.status==200?(console.log(d.data),d.data?y.notify({message:`Se genero la Entrada <b class="text-h6">${d.data.invoice.folio}</b>`,html:!0,position:"center",icon:"done",timeout:5e3,color:"orange"}):alert("Error 500: Ocurrio un error inesperado :(")):(alert(`Error ${a.status}: ${a.data}`),console.log(a.data))}}else alert(`Error ${a.status}: ${a.data}`);console.log(t)}else{const a=await C.genTransfer(p.params.oid,c.value._suplier_id);if(console.log(a),t.data.partitionsEnd>g.value._status){let d={id:p.params.oid,state:t.data.partitionsEnd};const v=await C.nextState(d);console.log(v)}z.emit("orderpartition_refresh",{order:e.id}),a.status==200?(console.log(a),a.data.transfer&&(console.log(a),y.notify({message:`Se genero el Traspaso <b class="text-h6">${a.data.transfer.folio}</b>`,html:!0,position:"center",icon:"done",timeout:5e3,color:"positive"}),N.value.key=a.data.requisition.entry_key,he.pdfTransfer(a.data.transfer.folio,N.value.key,p.params.oid))):alert(`Error ${a.status}: ${a.data}`),console.log(t)}else console.log(t);y.loading.hide()},De=async()=>{let e={id:p.params.oid,state:5,suply:h.value.val._suplier_id};console.log(e);let t=await H.nextState(e);if(t.status==200){if(c.value._status=t.data.partition._status,c.value.status.name=t.data.partition.name,console.log(t),t.data.partitionsEnd>g.value._status){let a={id:p.params.oid,state:t.data.partitionsEnd};const d=await C.nextState(a);console.log(d)}z.emit("orderpartition_refresh",{order:e.id})}else console.log(t)},Ue=async()=>{y.loading.show({message:"Inicando, espera..."});let e={pedido:p.params.oid,surtidor:h.value.val._suplier_id,verified:D.value.val.id,warehouse:P.value.val?P.value.val.id:"GEN"};console.log(e);let t=await H.SaveVerified(e);console.log(t),t.status==200?(ee(),O.value.state=!1,y.loading.hide()):alert(`Error ${t.status}: ${t.data} 2`)};return ee(),(e,t)=>(m(),w(Ge,{view:"hHh Lpr fFf"},{default:s(()=>[l(Ke,{bordered:"",class:"bg-cyan-10"},{default:s(()=>{var a,d,v;return[l(Le,null,{default:s(()=>{var U;return[l(x,{flat:"",round:"",dense:"",icon:"arrow_back",onClick:t[0]||(t[0]=te=>{f(xe).replace("/checkout")})}),l(Ne,null,{default:s(()=>[u(" Pedido "+n(f(p).params.oid),1)]),_:1}),Je,u(n((U=g.value.to)==null?void 0:U.name)+" ",1),l(K),l(x,{color:"white",icon:"sync",onClick:ee,round:"",dense:"",flat:""})]}),_:1}),l(M),o("div",We,[o("div",Xe,[Ye,u(" "+n((a=c.value)==null?void 0:a._suplier)+" ",1),l(K),Ze,u(" "+n(g.value.notes)+" ",1),l(K),et,u(" "+n((d=g.value.from)==null?void 0:d.name)+" ",1),l(K),tt,u(" "+n((v=h.value.val)==null?void 0:v.id),1)]),l(M,{spaced:"",inset:"",vertical:"",dark:""}),o("div",at,[o("div",null,[u("Productos: "),o("b",null,n(Q.value.length),1)]),o("div",null,[u("Piezas: "),o("b",null,n(f(we)),1)])]),X.value&&X.value.id>=3?(m(),j("div",lt,[o("div",null,[ot,u(),o("b",null,n(f(Ve).length),1)]),o("div",null,[st,u(),o("b",null,n(f(Ce).length),1)]),o("div",null,[it,u(),o("b",null,n(f(Z).length),1)]),o("div",null,[nt,u(),o("b",null,n(f(S).length),1)]),o("div",null,[dt,u(),o("b",null,n(f(S).reduce((U,te)=>U+(te.pivot._supply_by==3?te.pivot.toDelivered:1),0)),1)])])):E("",!0)])]}),_:1}),c.value&&c.value._status==5&&c.value._out_verified==null?(m(),w(I,{key:0,modelValue:O.value.state,"onUpdate:modelValue":t[3]||(t[3]=a=>O.value.state=a),persistent:""},{default:s(()=>[l(A,null,{default:s(()=>[l(_,{class:"row items-center"},{default:s(()=>[l(ae,{icon:"warning",color:"orange-14","text-color":"white"}),o("span",ut,"Iniciar CheckOut #"+n(f(p).params.oid),1)]),_:1}),l(_,null,{default:s(()=>[l(ie,{modelValue:D.value.val,"onUpdate:modelValue":t[1]||(t[1]=a=>D.value.val=a),options:D.value.opts,label:"Verificador","option-label":"complete_name",filled:""},null,8,["modelValue","options"])]),_:1}),l(_,null,{default:s(()=>[g.value.from._type!=1?(m(),w(ie,{key:0,modelValue:P.value.val,"onUpdate:modelValue":t[2]||(t[2]=a=>P.value.val=a),options:P.value.opts,label:"Almacen Destino",filled:""},null,8,["modelValue","options"])):E("",!0)]),_:1}),l(de,{vertical:"",align:"center"},{default:s(()=>[l(x,{flat:"",label:"Si",color:"primary",onClick:Ue,disable:D.value.val==null||g.value.from._type!=1&&P.value.val==null},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):E("",!0),l(Me,null,{default:s(()=>[l(He,{padding:""},{default:s(()=>[o("div",rt,[o("div",ct,[pt,l(fe,{"row-key":"id",flat:"",rows:f(F),columns:b.value.columns,pagination:b.value.pagination,filter:b.value.filter,"visible-columns":$.value,onRowClick:ce},{top:s(()=>[o("div",vt,[l(T,{dense:"",modelValue:b.value.filter,"onUpdate:modelValue":t[4]||(t[4]=a=>b.value.filter=a),placeholder:"Buscar","input-class":"text-uppercase",color:"pink-5"},{append:s(()=>[l(le,{name:"search"})]),_:1},8,["modelValue"]),l(x,{color:"secondary",icon:"fas fa-eye","no-caps":""},{default:s(()=>[l(_e,{style:{"min-width":"200px"}},{default:s(()=>[l(be,null,{default:s(()=>[(m(!0),j(se,null,oe(b.value.columns,(a,d)=>G((m(),w(ne,{tag:"label",key:d},{default:s(()=>[l(R,null,{default:s(()=>[l(q,null,{default:s(()=>[u(n(a.label),1)]),_:2},1024),l(q,{caption:""},{default:s(()=>[u(n(a.coldesc),1)]),_:2},1024)]),_:2},1024),l(R,{side:"",top:""},{default:s(()=>[l(me,{color:"pink-5",modelValue:$.value,"onUpdate:modelValue":t[5]||(t[5]=v=>$.value=v),val:a.name},null,8,["modelValue","val"])]),_:2},1024)]),_:2},1024)),[[ve]])),128))]),_:1})]),_:1})]),_:1})])]),_:1},8,["rows","columns","pagination","filter","visible-columns"])]),l(M,{vertical:""}),o("div",mt,[ft,l(fe,{"row-key":"id",flat:"",rows:f(Qe),columns:b.value.columns,pagination:b.value.pagination,filter:b.value.filter,"visible-columns":$.value,onRowClick:ce},{top:s(()=>[o("div",_t,[l(T,{dense:"",modelValue:b.value.filter,"onUpdate:modelValue":t[6]||(t[6]=a=>b.value.filter=a),placeholder:"Buscar","input-class":"text-uppercase",color:"pink-5"},{append:s(()=>[l(le,{name:"search"})]),_:1},8,["modelValue"]),l(x,{color:"secondary",icon:"fas fa-eye","no-caps":""},{default:s(()=>[l(_e,{style:{"min-width":"200px"}},{default:s(()=>[l(be,null,{default:s(()=>[(m(!0),j(se,null,oe(b.value.columns,(a,d)=>G((m(),w(ne,{tag:"label",key:d},{default:s(()=>[l(R,null,{default:s(()=>[l(q,null,{default:s(()=>[u(n(a.label),1)]),_:2},1024),l(q,{caption:""},{default:s(()=>[u(n(a.coldesc),1)]),_:2},1024)]),_:2},1024),l(R,{side:"",top:""},{default:s(()=>[l(me,{color:"pink-5",modelValue:$.value,"onUpdate:modelValue":t[7]||(t[7]=v=>$.value=v),val:a.name},null,8,["modelValue","val"])]),_:2},1024)]),_:2},1024)),[[ve]])),128))]),_:1})]),_:1})]),_:1})])]),_:1},8,["rows","columns","pagination","filter","visible-columns"])])]),l(I,{modelValue:i.value.state,"onUpdate:modelValue":t[10]||(t[10]=a=>i.value.state=a),position:"bottom",onHide:t[11]||(t[11]=a=>ue.value.focus())},{default:s(()=>[i.value.item?(m(),w(A,{key:0},{default:s(()=>[l(_,{class:"bg-grey-3"},{default:s(()=>[o("div",bt,[o("div",gt,[o("div",yt,"ID: "+n(i.value.item.id),1),o("div",ht,n(i.value.item.code),1)]),o("div",xt,[o("div",kt,n(i.value.item.name),1),o("div",wt,n(i.value.item.barcode),1)])])]),_:1}),l(M),l(_,null,{default:s(()=>[u(n(i.value.item.description),1)]),_:1}),l(_,{class:"row justify-around items-center"},{default:s(()=>[o("div",Vt,[o("div",Ct,n(i.value.item.pieces),1),Qt]),(m(!0),j(se,null,oe(i.value.item.stocks,a=>(m(),j("div",{key:a.id,class:"text-center"},[o("div",St,n(a.pivot.gen),1),o("div",Et,n(a.alias),1)]))),128))]),_:1}),l(Be,{onSubmit:Ie(Pe,["prevent"])},{default:s(()=>[l(_,null,{default:s(()=>[o("div",Pt,[o("div",$t,[Dt,o("div",Ut,n(i.value.item.pivot.amount)+" "+n(i.value.item.pivot._supply_by==3?`Caja${i.value.item.pivot.amount!=1?"s":""}`:i.value.item.pivot._supply_by==2?`Docena${i.value.item.pivot.amount!=1?"s":""}`:`Pieza${i.value.item.pivot.amount!=1?"s":""}`),1)]),o("div",qt,[jt,l(T,{dense:"",borderless:"",modelValue:i.value.form.count,"onUpdate:modelValue":t[8]||(t[8]=a=>i.value.form.count=a),type:"number",min:"0","input-class":"text-h6 text-center",ref_key:"iptcounter",ref:W},null,8,["modelValue"])]),o("div",It,[Rt,l(T,{dense:"",borderless:"",modelValue:i.value.form.ipack,"onUpdate:modelValue":t[9]||(t[9]=a=>i.value.form.ipack=a),type:"number","input-class":"text-h6 text-center"},null,8,["modelValue"])]),o("div",At,[Tt,o("div",zt,n(i.value.item.pivot._supply_by==3?i.value.form.count*i.value.form.ipack:i.value.item.pivot._supply_by==2?i.value.form.count*12:i.value.form.count),1)])])]),_:1}),l(x,{color:"green-5",type:"submit",square:"",icon:"done_all","no-caps":"",class:"q-mt-md q-py-md full-width"})]),_:1},8,["onSubmit"])]),_:1})):E("",!0)]),_:1},8,["modelValue"]),l(I,{modelValue:L.value.state,"onUpdate:modelValue":t[12]||(t[12]=a=>L.value.state=a)},{default:s(()=>[l(A,null,{default:s(()=>[l(_,{class:"row items-start"},{default:s(()=>[l(ae,{icon:"warning",color:"orange-14","text-color":"white"}),Nt]),_:1}),l(_,{class:"text-subtitle1 text-bold"},{default:s(()=>[Bt,Lt]),_:1}),l(de,{align:"right"},{default:s(()=>[G(l(x,{flat:"",label:"Canclear",color:"negative",rounded:"","no-caps":""},null,512),[[ye]]),l(x,{flat:"",label:"Emitir Factura",color:"positive",rounded:"",onClick:$e})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(I,{modelValue:B.value.state,"onUpdate:modelValue":t[13]||(t[13]=a=>B.value.state=a),persistent:""},{default:s(()=>[l(A,{class:"bg-red text-white"},{default:s(()=>[l(_,{class:"row items-center"},{default:s(()=>[l(ae,{icon:"signal_wifi_off",color:"primary","text-color":"white"}),o("span",Ft,n(B.value.code),1)]),_:1}),l(_,null,{default:s(()=>[o("span",Gt,n(B.value.text),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(I,{modelValue:J.value,"onUpdate:modelValue":t[15]||(t[15]=a=>J.value=a),persistent:""},{default:s(()=>[l(A,{style:{width:"400px"}},{default:s(()=>[l(_,{class:"row items-center"},{default:s(()=>[Kt]),_:1}),l(_,null,{default:s(()=>[l(ie,{modelValue:h.value.val,"onUpdate:modelValue":[t[14]||(t[14]=a=>h.value.val=a),Se],options:h.value.opts,label:"Surtidor","option-label":"_suplier","option-value":"_suplier_id",filled:"","option-disable":a=>!(a._status==4||a._status==5)},{option:s(a=>[l(ne,Re(Ae(a.itemProps)),{default:s(()=>[l(R,null,{default:s(()=>[l(q,null,{default:s(()=>[u(n(a.opt._suplier),1)]),_:2},1024),l(q,{caption:"",lines:"2"},{default:s(()=>[u("Estado: "+n(a.opt.status.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","option-disable"])]),_:1}),l(de,{align:"right"},{default:s(()=>[G(l(x,{flat:"",label:"Continuar",color:"primary",disable:!h.value.val,onClick:De},null,8,["disable"]),[[ye]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),f(re)?(m(),w(ge,{key:0,bordered:"",class:"bg-cyan-10 text-dark q-pa-sm row",elevated:""},{default:s(()=>[l(T,{color:"white",modelValue:V.value,"onUpdate:modelValue":t[17]||(t[17]=a=>V.value=a),type:"text",class:"col","input-class":"text-white text-h6 text-center text-uppercase",autofocus:"",dense:"",onKeypress:Te(Ee,["enter"]),ref_key:"iptfinder",ref:ue},{prepend:s(()=>[l(le,{name:"fas fa-barcode",color:"white"})]),append:s(()=>[l(x,{flat:"",icon:"fas fa-delete-left",color:"white",onClick:t[16]||(t[16]=a=>V.value=""),disabled:!V.value.length},null,8,["disabled"])]),_:1},8,["modelValue","onKeypress"]),f(S).length>0?(m(),w(x,{key:0,color:"white","text-color":"cyan-9",label:"Terminar",icon:"done",onClick:t[18]||(t[18]=a=>L.value.state=!0),"no-caps":""})):E("",!0)]),_:1})):E("",!0),c.value&&c.value._status!=5?(m(),w(ge,{key:1,bordered:"",class:"bg-orange-9 text-white"},{default:s(()=>{var a;return[o("div",Mt,n((a=c.value)==null?void 0:a.status.name),1)]}),_:1})):E("",!0)]),_:1})]),_:1}))}};export{va as default};
