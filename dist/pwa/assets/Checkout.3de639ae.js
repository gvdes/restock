import{r as d,c as w,a as f,d as V,w as s,ar as je,k as Ie,e as l,Q as k,u as _,g as u,t as n,h as o,b as R,i as E,aP as le,j as oe,as as se,at as ie,aO as Re,aL as K,aQ as Be,aR as Te,f as Ae,D as Ne,$ as me}from"./index.c5d93157.js";import{Q as ze}from"./QToolbarTitle.3942caeb.js";import{Q as M}from"./QSpace.c804c3d6.js";import{Q as Le}from"./QToolbar.ca10aff7.js";import{a as O,Q as Fe}from"./QPage.a0e4b340.js";import{Q as Ge}from"./QHeader.54275a9a.js";import{a as b,Q as B}from"./QCard.98a8718f.js";import{u as Ke,a as T,Q as ne,f as fe,h as j}from"./use-quasar.65450991.js";import{Q as de}from"./QCardActions.1b504a3a.js";import{Q as A}from"./QInput.53cbf7fb.js";import{Q as ue,a as N}from"./QItem.d0429b47.js";import{Q as _e}from"./QToggle.c1c25412.js";import{Q as be}from"./QList.79471be2.js";import{Q as ge}from"./QTable.2609ddbe.js";import{Q as Me}from"./QForm.e2fd97ff.js";import{Q as ye}from"./QFooter.1275c63c.js";import{Q as Oe,a as He}from"./QLayout.42af57e6.js";import{C as he}from"./ClosePopup.835bded2.js";import"./dayjs.min.25545ff6.js";import{R as P}from"./RestockApi.b498d50a.js";import{p as ke}from"./pdfCreate.441c5d62.js";import{$sktRestock as x,usrSkt as Je}from"./socket.97cb7a0e.js";import{A as H}from"./AssistApi.9771f5cc.js";import"./use-key-composition.3431a545.js";import"./uid.42677368.js";import"./format.f7a4b5a4.js";import"./rtl.c28c52d5.js";import"./use-timeout.bf7154f2.js";import"./_commonjsHelpers.88e99c8f.js";import"./axios.a9eecb61.js";import"./jspdf.plugin.autotable.7984daea.js";const We=o("div",{class:"text-bold"},"Origen : ",-1),Xe={class:"q-px-md q-py-sm"},Ye={class:"col row justify-between"},Ze=o("div",{class:"text-bold"},"Surtidor :",-1),et=o("div",{class:"text-bold"},"Notas :",-1),tt=o("div",{class:"text-bold"},"Destino :",-1),at=o("div",{class:"text-bold"},"Particion :",-1),lt={class:"col row justify-between"},ot={key:0,class:"row items-center justify-between q-pt-sm"},st=o("span",{class:"text--2"},"Agotados:",-1),it=o("span",{class:"text--2"},"Con stock:",-1),nt=o("span",{class:"text--2"},"Por revisar:",-1),dt=o("span",{class:"text--2"},"Revisados:",-1),ut=o("span",{class:"text--2"},"Cajas Contadas:",-1),rt={class:"q-mx-sm text-h6"},ct={class:"row"},pt={class:"col"},vt=o("div",{class:"text-h6"},"Productos sin revisar",-1),mt={class:"full-width row items-center justify-between"},ft={class:"col"},_t=o("div",{class:"text-h6"},"Productos revisados",-1),bt={class:"full-width row items-center justify-between"},gt={class:"row justify-between"},yt={class:"text-left"},ht={class:"text--3"},kt={class:"text-h6"},xt={class:"text-right"},wt={class:"text-bold"},Vt={class:"text--2"},Ct={class:"text-center"},Qt={class:"text-h6"},St=o("div",{class:"text--2"},"PxC",-1),Et={class:"text-h6"},Pt={class:"text--2"},Dt={class:"row items-start justify-between"},Ut={class:"text-center col text-primary"},$t=o("div",null,"Solicitud",-1),qt={class:"text-bold"},jt={class:"text-center col"},It=o("div",null,"Conteo",-1),Rt={class:"text-center col"},Bt=o("div",null,"PxC",-1),Tt={class:"text-center col"},At=o("div",null,"Piezas",-1),Nt={class:"text-bold"},zt=o("div",{class:"q-ml-md"},[o("div",{class:"text-h6 text-bold"},"Deseas terminar la revision?")],-1),Lt=o("div",null,"EL pedido ya no podra editarse y se emitira la salida correspondiente",-1),Ft=o("div",null,"en factusol",-1),Gt={class:"q-ml-sm"},Kt={class:"q-ml-sm"},Mt=o("div",null,"Quien Surtio?",-1),Ot={class:"q-pa-md text-bold text-uppercase text-center"},Qa={__name:"Checkout",setup(Ht){const v=je(),xe=Ie(),g=Ke(),we=Je;x.on("blockButton",()=>{g.notify({message:"Se esta generando otra salida",type:"positive"}),I.value.state=!1,L.value=!0}),x.on("unblockButton",()=>{g.notify({message:"Se termino de generar la otra salida",type:"negative"}),L.value=!1}),d({state:!1});const z=d({state:!1,key:null}),J=d({state:!0}),W=d(!0),h=d({val:null,opts:[]}),L=d(!1),D=d({val:null,opts:[{id:"GEN",label:"General"},{id:"EMP",label:"Empaques"}]}),c=d(null),U=d(["code","assocs","ipack","request","uspply","delivery","reqinpzs","checkout","stocks"]),Q=d([]),C=d(""),X=d(null),re=d(null),Y=d(null),y=d({columns:[{name:"id",label:"ID",field:"id",align:"left",coldesc:"Identificador del producto (MySQL)"},{name:"code",label:"Codigo",field:"code",align:"left",coldesc:"Codigo principal del producto"},{name:"assocs",label:"Asociados",field:e=>e.variants.length?e.variants.map(t=>t.barcode).join(", "):null,align:"left",coldesc:"Codigos relacionados al codigo principal"},{name:"bcode",label:"Codigo de Barras",field:"barcode",align:"center",coldesc:"Codigo de barras principal"},{name:"locs",label:"Ubicacion",field:e=>e.locations.length?e.locations.map(t=>t.path).join(", "):"--",align:"left",coldesc:"Ubicaciones en almacen general"},{name:"ipack",label:"PxC",field:e=>typeof e.pivot.ipack=="number"?e.pivot.ipack:e.pieces,align:"center",coldesc:"Unidades x Embalaje"},{name:"request",label:"Solicitud",field:e=>e.pivot.amount,align:"center",coldesc:"Embalaje solicitado"},{name:"uspply",label:"Unidad",field:e=>e.pivot._supply_by==3?"Cajas":e.pivot._supply_by==2?"Docenas":"Piezas",align:"left",coldesc:"Unidad de embalaje del producto"},{name:"delivery",label:"Conteo",field:e=>e.pivot.toDelivered,align:"center",coldesc:"Embalaje surtido",sortable:!0},{name:"reqinpzs",label:"Piezas",field:e=>e.pivot._supply_by==3?(typeof e.pivot.ipack=="number"?e.pivot.ipack:e.pieces)*(typeof e.pivot.ipack=="number"?e.pivot.toDelivered:e.pivot.amount):typeof e.pivot.ipack=="number"?e.pivot.toDelivered:e.pivot.amount,align:"center",coldesc:"Unidades totales en embalaje"},{name:"checkout",label:"Checkout",field:e=>e.pivot.checkout?"OK":null,classes:e=>e.pivot.checkout?"text-positive text-bold":"",align:"center",coldesc:"Revision del Administrador"},{name:"descr",label:"Descripcion",field:"description",align:"left"},{name:"section",label:"Seccion",field:"section",align:"left"},{name:"family",label:"Familia",field:"family",align:"left"},{name:"category",label:"Categoria",field:"category",align:"left"},{name:"stocks",label:"Stock (pzs)",field:e=>e.stocks.reduce((t,a)=>t+a.pivot.stock,0),sortable:!0,classes:e=>e.stocks.reduce((t,a)=>t+a.pivot.stock,0)<=0?"text-red text-bold":"text-bold text-primary",align:"center",coldesc:"Stock total en almacenes GENERALES (CEDIS+PAN)"}],filter:"",pagination:{sortBy:"locs",descending:!1,rowsPerPage:10}}),i=d({state:!1,item:null,form:{count:0,ipack:null,setting:!1}}),$=d({val:null,opts:null}),p=d([]),F=d({state:!1,code:null,text:null}),I=d({state:!1}),Z=w(()=>h.value.val?Q.value.filter(e=>e.pivot._suplier_id==h.value.val._suplier_id):[]),ce=w(()=>c.value?c.value._status==5:!1),Ve=w(()=>Z.value.reduce((e,t)=>e+(t.pivot._supply_by==3?t.pivot.amount*t.pieces:t.pivot.amount),0)),ee=w(()=>Z.value.filter(e=>!e.pivot.checkout)),S=w(()=>Z.value.filter(e=>e.pivot.checkout)),Ce=w(()=>S.value.filter(e=>e.pivot.toDelivered==0)),Qe=w(()=>S.value.filter(e=>e.pivot.toDelivered>0)),G=w(()=>{let e=C.value.toUpperCase().trim();return e.length?ee.value.filter(t=>t.code.match(e)||t.barcode&&t.barcode.match(e)):ee.value}),Se=w(()=>{let e=C.value.toUpperCase().trim();return e.length?S.value.filter(t=>t.code.match(e)||t.barcode&&t.barcode.match(e)):S.value}),te=async()=>{g.loading.show({message:"Cargando..."}),console.log("Iniciando...");const e=await P.order(v.params.oid);if(console.log(e),e.status==200){Q.value=e.data.products,Y.value=e.data.status,p.value=e.data,h.value.opts=e.data.partition;let t=await H.getVerified(p.value.to.id);console.log(t),$.value.opts=t,g.loading.hide()}else displayErrRequest(e);x.connect(),x.emit("joinat",we)},Ee=e=>{c.value=e,e._status==5&&(W.value=!1),x.emit("checkouConect",p.value)},pe=(e,t,a)=>ce.value?ve(t):null,ve=e=>{console.log(e),i.value.item=e,i.value.form.count=typeof e.pivot.toDelivered=="number"?e.pivot.toDelivered:0,i.value.form.ipack=typeof e.pivot.ipack=="number"?e.pivot.ipack:e.pieces,i.value.state=!0,Ne(()=>{X.value.focus(),X.value.select()})},Pe=()=>{let e=C.value.toUpperCase().trim();if(e.length){let t=G.value.length==1?G.value[0]:G.value.find(a=>a.code==e||a.barcode==e);t?ve(t):g.notify({message:`Sin coincidencias para <b>${e}</b>`,color:"pink-5",position:"center",html:!0})}},De=async()=>{const e=parseInt(i.value.form.count),t=parseInt(i.value.form.ipack),a={order:v.params.oid,product:i.value.item.id,delivery:e,ipack:t,checkout:!0},r=await P.setDeliveryProduct(a);if(console.log(r),r.status==200){console.log(r.data);let m=Q.value.findIndex(q=>q.id==i.value.item.id);Q.value[m].pivot.toDelivered=e,Q.value[m].pivot.ipack=t,Q.value[m].pivot.checkout=1,i.value.state=!1,C.value="",g.notify({color:"positive",icon:"done",position:"right",message:""})}else alert(`Error ${r.status}: ${r.data}`)},Ue=async()=>{x.emit("blockButton",p.value),g.loading.show({message:"Terminando, espera..."}),console.log(p.value._workpoint_from),I.value.state=!1;let e={id:v.params.oid,state:6,suply:h.value.val._suplier_id};console.log(e),console.log("... por acasito");let t=await H.nextState(e);if(t.status==200)if(c.value._status=t.data.partition._status,c.value.status.name=t.data.partition.name,p.value.from._type!=1){const a=await P.genInvoice(v.params.oid,c.value._suplier_id);if(console.log(a),t.data.partitionsEnd>p.value._status){let r={id:v.params.oid,state:t.data.partitionsEnd};const m=await P.nextState(r);console.log(m)}x.emit("orderpartition_refresh",{order:e.id}),a.status==200?a.data.invoice&&(g.notify({message:`Se genero la salida <b class="text-h6">${a.data.invoice.folio}</b>`,html:!0,position:"center",icon:"done",timeout:2e3,color:"positive"}),z.value.key=a.data.requisition.entry_key,ke.pdf(a.data.invoice.folio,z.value.key,v.params.oid),console.log(c.value.id)):alert(`Error ${a.status}: ${a.data}`),console.log(t)}else{const a=await P.genTransfer(v.params.oid,c.value._suplier_id);if(console.log(a),t.data.partitionsEnd>p.value._status){let r={id:v.params.oid,state:t.data.partitionsEnd};const m=await P.nextState(r);console.log(m)}x.emit("orderpartition_refresh",{order:e.id}),a.status==200?(console.log(a),a.data.transfer&&(console.log(a),g.notify({message:`Se genero el Traspaso <b class="text-h6">${a.data.transfer.folio}</b>`,html:!0,position:"center",icon:"done",timeout:5e3,color:"positive"}),z.value.key=a.data.requisition.entry_key,ke.pdfTransfer(a.data.transfer.folio,z.value.key,v.params.oid))):alert(`Error ${a.status}: ${a.data}`),console.log(t)}else console.log(t);g.loading.hide(),x.emit("unblockButton",p.value)},$e=async()=>{let e={id:v.params.oid,state:5,suply:h.value.val._suplier_id};console.log(e);let t=await H.nextState(e);if(t.status==200){if(c.value._status=t.data.partition._status,c.value.status.name=t.data.partition.name,console.log(t),t.data.partitionsEnd>p.value._status){let a={id:v.params.oid,state:t.data.partitionsEnd};const r=await P.nextState(a);console.log(r)}x.emit("orderpartition_refresh",{order:e.id})}else console.log(t)},qe=async()=>{g.loading.show({message:"Inicando, espera..."});let e={pedido:v.params.oid,surtidor:h.value.val._suplier_id,verified:$.value.val.id,warehouse:D.value.val?D.value.val.id:"GEN"};console.log(e);let t=await H.SaveVerified(e);console.log(t),t.status==200?(te(),J.value.state=!1,g.loading.hide()):alert(`Error ${t.status}: ${t.data} 2`)};return te(),(e,t)=>(f(),V(Oe,{view:"hHh Lpr fFf"},{default:s(()=>[l(Ge,{bordered:"",class:"bg-cyan-10"},{default:s(()=>{var a,r,m;return[l(Le,null,{default:s(()=>{var q;return[l(k,{flat:"",round:"",dense:"",icon:"arrow_back",onClick:t[0]||(t[0]=ae=>{_(xe).replace("/checkout")})}),l(ze,null,{default:s(()=>[u(" Pedido "+n(_(v).params.oid),1)]),_:1}),We,u(n((q=p.value.to)==null?void 0:q.name)+" ",1),l(M),l(k,{color:"white",icon:"sync",onClick:te,round:"",dense:"",flat:""})]}),_:1}),l(O),o("div",Xe,[o("div",Ye,[Ze,u(" "+n((a=c.value)==null?void 0:a._suplier)+" ",1),l(M),et,u(" "+n(p.value.notes)+" ",1),l(M),tt,u(" "+n((r=p.value.from)==null?void 0:r.name)+" ",1),l(M),at,u(" "+n((m=h.value.val)==null?void 0:m.id),1)]),l(O,{spaced:"",inset:"",vertical:"",dark:""}),o("div",lt,[o("div",null,[u("Productos: "),o("b",null,n(Q.value.length),1)]),o("div",null,[u("Piezas: "),o("b",null,n(_(Ve)),1)])]),Y.value&&Y.value.id>=3?(f(),R("div",ot,[o("div",null,[st,u(),o("b",null,n(_(Ce).length),1)]),o("div",null,[it,u(),o("b",null,n(_(Qe).length),1)]),o("div",null,[nt,u(),o("b",null,n(_(ee).length),1)]),o("div",null,[dt,u(),o("b",null,n(_(S).length),1)]),o("div",null,[ut,u(),o("b",null,n(_(S).reduce((q,ae)=>q+(ae.pivot._supply_by==3?ae.pivot.toDelivered:1),0)),1)])])):E("",!0)])]}),_:1}),c.value&&c.value._status==5&&c.value._out_verified==null?(f(),V(T,{key:0,modelValue:J.value.state,"onUpdate:modelValue":t[3]||(t[3]=a=>J.value.state=a),persistent:""},{default:s(()=>[l(B,null,{default:s(()=>[l(b,{class:"row items-center"},{default:s(()=>[l(le,{icon:"warning",color:"orange-14","text-color":"white"}),o("span",rt,"Iniciar CheckOut #"+n(_(v).params.oid),1)]),_:1}),l(b,null,{default:s(()=>[l(ne,{modelValue:$.value.val,"onUpdate:modelValue":t[1]||(t[1]=a=>$.value.val=a),options:$.value.opts,label:"Verificador","option-label":"complete_name",filled:""},null,8,["modelValue","options"])]),_:1}),l(b,null,{default:s(()=>[p.value.from._type!=1?(f(),V(ne,{key:0,modelValue:D.value.val,"onUpdate:modelValue":t[2]||(t[2]=a=>D.value.val=a),options:D.value.opts,label:"Almacen Destino",filled:""},null,8,["modelValue","options"])):E("",!0)]),_:1}),l(de,{vertical:"",align:"center"},{default:s(()=>[l(k,{flat:"",label:"Si",color:"primary",onClick:qe,disable:$.value.val==null||p.value.from._type!=1&&D.value.val==null},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):E("",!0),l(He,null,{default:s(()=>[l(Fe,{padding:""},{default:s(()=>[o("div",ct,[o("div",pt,[vt,l(ge,{"row-key":"id",flat:"",rows:_(G),columns:y.value.columns,pagination:y.value.pagination,filter:y.value.filter,"visible-columns":U.value,onRowClick:pe},{top:s(()=>[o("div",mt,[l(A,{dense:"",modelValue:y.value.filter,"onUpdate:modelValue":t[4]||(t[4]=a=>y.value.filter=a),placeholder:"Buscar","input-class":"text-uppercase",color:"pink-5"},{append:s(()=>[l(oe,{name:"search"})]),_:1},8,["modelValue"]),l(k,{color:"secondary",icon:"fas fa-eye","no-caps":""},{default:s(()=>[l(fe,{style:{"min-width":"200px"}},{default:s(()=>[l(be,null,{default:s(()=>[(f(!0),R(ie,null,se(y.value.columns,(a,r)=>K((f(),V(ue,{tag:"label",key:r},{default:s(()=>[l(N,null,{default:s(()=>[l(j,null,{default:s(()=>[u(n(a.label),1)]),_:2},1024),l(j,{caption:""},{default:s(()=>[u(n(a.coldesc),1)]),_:2},1024)]),_:2},1024),l(N,{side:"",top:""},{default:s(()=>[l(_e,{color:"pink-5",modelValue:U.value,"onUpdate:modelValue":t[5]||(t[5]=m=>U.value=m),val:a.name},null,8,["modelValue","val"])]),_:2},1024)]),_:2},1024)),[[me]])),128))]),_:1})]),_:1})]),_:1})])]),_:1},8,["rows","columns","pagination","filter","visible-columns"])]),l(O,{vertical:""}),o("div",ft,[_t,l(ge,{"row-key":"id",flat:"",rows:_(Se),columns:y.value.columns,pagination:y.value.pagination,filter:y.value.filter,"visible-columns":U.value,onRowClick:pe},{top:s(()=>[o("div",bt,[l(A,{dense:"",modelValue:y.value.filter,"onUpdate:modelValue":t[6]||(t[6]=a=>y.value.filter=a),placeholder:"Buscar","input-class":"text-uppercase",color:"pink-5"},{append:s(()=>[l(oe,{name:"search"})]),_:1},8,["modelValue"]),l(k,{color:"secondary",icon:"fas fa-eye","no-caps":""},{default:s(()=>[l(fe,{style:{"min-width":"200px"}},{default:s(()=>[l(be,null,{default:s(()=>[(f(!0),R(ie,null,se(y.value.columns,(a,r)=>K((f(),V(ue,{tag:"label",key:r},{default:s(()=>[l(N,null,{default:s(()=>[l(j,null,{default:s(()=>[u(n(a.label),1)]),_:2},1024),l(j,{caption:""},{default:s(()=>[u(n(a.coldesc),1)]),_:2},1024)]),_:2},1024),l(N,{side:"",top:""},{default:s(()=>[l(_e,{color:"pink-5",modelValue:U.value,"onUpdate:modelValue":t[7]||(t[7]=m=>U.value=m),val:a.name},null,8,["modelValue","val"])]),_:2},1024)]),_:2},1024)),[[me]])),128))]),_:1})]),_:1})]),_:1})])]),_:1},8,["rows","columns","pagination","filter","visible-columns"])])]),l(T,{modelValue:i.value.state,"onUpdate:modelValue":t[10]||(t[10]=a=>i.value.state=a),position:"bottom",onHide:t[11]||(t[11]=a=>re.value.focus())},{default:s(()=>[i.value.item?(f(),V(B,{key:0},{default:s(()=>[l(b,{class:"bg-grey-3"},{default:s(()=>[o("div",gt,[o("div",yt,[o("div",ht,"ID: "+n(i.value.item.id),1),o("div",kt,n(i.value.item.code),1)]),o("div",xt,[o("div",wt,n(i.value.item.name),1),o("div",Vt,n(i.value.item.barcode),1)])])]),_:1}),l(O),l(b,null,{default:s(()=>[u(n(i.value.item.description),1)]),_:1}),l(b,{class:"row justify-around items-center"},{default:s(()=>[o("div",Ct,[o("div",Qt,n(i.value.item.pieces),1),St]),(f(!0),R(ie,null,se(i.value.item.stocks,a=>(f(),R("div",{key:a.id,class:"text-center"},[o("div",Et,n(a.pivot.gen),1),o("div",Pt,n(a.alias),1)]))),128))]),_:1}),l(Me,{onSubmit:Re(De,["prevent"])},{default:s(()=>[l(b,null,{default:s(()=>[o("div",Dt,[o("div",Ut,[$t,o("div",qt,n(i.value.item.pivot.amount)+" "+n(i.value.item.pivot._supply_by==3?`Caja${i.value.item.pivot.amount!=1?"s":""}`:i.value.item.pivot._supply_by==2?`Docena${i.value.item.pivot.amount!=1?"s":""}`:`Pieza${i.value.item.pivot.amount!=1?"s":""}`),1)]),o("div",jt,[It,l(A,{dense:"",borderless:"",modelValue:i.value.form.count,"onUpdate:modelValue":t[8]||(t[8]=a=>i.value.form.count=a),type:"number",min:"0","input-class":"text-h6 text-center",ref_key:"iptcounter",ref:X},null,8,["modelValue"])]),o("div",Rt,[Bt,l(A,{dense:"",borderless:"",modelValue:i.value.form.ipack,"onUpdate:modelValue":t[9]||(t[9]=a=>i.value.form.ipack=a),type:"number","input-class":"text-h6 text-center"},null,8,["modelValue"])]),o("div",Tt,[At,o("div",Nt,n(i.value.item.pivot._supply_by==3?i.value.form.count*i.value.form.ipack:i.value.item.pivot._supply_by==2?i.value.form.count*12:i.value.form.count),1)])])]),_:1}),l(k,{color:"green-5",type:"submit",square:"",icon:"done_all","no-caps":"",class:"q-mt-md q-py-md full-width"})]),_:1},8,["onSubmit"])]),_:1})):E("",!0)]),_:1},8,["modelValue"]),l(T,{modelValue:I.value.state,"onUpdate:modelValue":t[12]||(t[12]=a=>I.value.state=a)},{default:s(()=>[l(B,null,{default:s(()=>[l(b,{class:"row items-start"},{default:s(()=>[l(le,{icon:"warning",color:"orange-14","text-color":"white"}),zt]),_:1}),l(b,{class:"text-subtitle1 text-bold"},{default:s(()=>[Lt,Ft]),_:1}),l(de,{align:"right"},{default:s(()=>[K(l(k,{flat:"",label:"Canclear",color:"negative",rounded:"","no-caps":""},null,512),[[he]]),l(k,{flat:"",label:"Emitir Factura",color:"positive",rounded:"",onClick:Ue,disable:L.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(T,{modelValue:F.value.state,"onUpdate:modelValue":t[13]||(t[13]=a=>F.value.state=a),persistent:""},{default:s(()=>[l(B,{class:"bg-red text-white"},{default:s(()=>[l(b,{class:"row items-center"},{default:s(()=>[l(le,{icon:"signal_wifi_off",color:"primary","text-color":"white"}),o("span",Gt,n(F.value.code),1)]),_:1}),l(b,null,{default:s(()=>[o("span",Kt,n(F.value.text),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(T,{modelValue:W.value,"onUpdate:modelValue":t[15]||(t[15]=a=>W.value=a),persistent:""},{default:s(()=>[l(B,{style:{width:"400px"}},{default:s(()=>[l(b,{class:"row items-center"},{default:s(()=>[Mt]),_:1}),l(b,null,{default:s(()=>[l(ne,{modelValue:h.value.val,"onUpdate:modelValue":[t[14]||(t[14]=a=>h.value.val=a),Ee],options:h.value.opts,label:"Surtidor","option-label":"_suplier","option-value":"_suplier_id",filled:"","option-disable":a=>!(a._status==4||a._status==5)},{option:s(a=>[l(ue,Be(Te(a.itemProps)),{default:s(()=>[l(N,null,{default:s(()=>[l(j,null,{default:s(()=>[u(n(a.opt._suplier),1)]),_:2},1024),l(j,{caption:"",lines:"2"},{default:s(()=>[u("Estado: "+n(a.opt.status.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","option-disable"])]),_:1}),l(de,{align:"right"},{default:s(()=>[K(l(k,{flat:"",label:"Continuar",color:"primary",disable:!h.value.val,onClick:$e},null,8,["disable"]),[[he]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),_(ce)?(f(),V(ye,{key:0,bordered:"",class:"bg-cyan-10 text-dark q-pa-sm row",elevated:""},{default:s(()=>[l(A,{color:"white",modelValue:C.value,"onUpdate:modelValue":t[17]||(t[17]=a=>C.value=a),type:"text",class:"col","input-class":"text-white text-h6 text-center text-uppercase",autofocus:"",dense:"",onKeypress:Ae(Pe,["enter"]),ref_key:"iptfinder",ref:re},{prepend:s(()=>[l(oe,{name:"fas fa-barcode",color:"white"})]),append:s(()=>[l(k,{flat:"",icon:"fas fa-delete-left",color:"white",onClick:t[16]||(t[16]=a=>C.value=""),disabled:!C.value.length},null,8,["disabled"])]),_:1},8,["modelValue","onKeypress"]),_(S).length>0?(f(),V(k,{key:0,color:"white","text-color":"cyan-9",label:"Terminar",icon:"done",onClick:t[18]||(t[18]=a=>I.value.state=!0),"no-caps":"",disable:L.value},null,8,["disable"])):E("",!0)]),_:1})):E("",!0),c.value&&c.value._status!=5?(f(),V(ye,{key:1,bordered:"",class:"bg-orange-9 text-white"},{default:s(()=>{var a;return[o("div",Ot,n((a=c.value)==null?void 0:a.status.name),1)]}),_:1})):E("",!0)]),_:1})]),_:1}))}};export{Qa as default};
