import{am as S,q as V,an as T,o as w,z as A,D as g,s as U,ao as h,ap as P}from"./index.46b313ec.js";function x(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),S.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const z={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},B=["before-show","show","before-hide","hide"];function j({showing:e,canShow:t,hideOnRouteChange:r,handleShow:l,handleHide:u,processOnMount:M}){const f=A(),{props:n,emit:a,proxy:c}=f;let i;function H(o){e.value===!0?d(o):m(o)}function m(o){if(n.disable===!0||o!==void 0&&o.qAnchorHandled===!0||t!==void 0&&t(o)!==!0)return;const s=n["onUpdate:modelValue"]!==void 0;s===!0&&(a("update:modelValue",!0),i=o,g(()=>{i===o&&(i=void 0)})),(n.modelValue===null||s===!1)&&p(o)}function p(o){e.value!==!0&&(e.value=!0,a("before-show",o),l!==void 0?l(o):a("show",o))}function d(o){if(n.disable===!0)return;const s=n["onUpdate:modelValue"]!==void 0;s===!0&&(a("update:modelValue",!1),i=o,g(()=>{i===o&&(i=void 0)})),(n.modelValue===null||s===!1)&&v(o)}function v(o){e.value!==!1&&(e.value=!1,a("before-hide",o),u!==void 0?u(o):a("hide",o))}function y(o){n.disable===!0&&o===!0?n["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!1):o===!0!==e.value&&(o===!0?p:v)(i)}V(()=>n.modelValue,y),r!==void 0&&T(f)===!0&&V(()=>c.$route.fullPath,()=>{r.value===!0&&e.value===!0&&d()}),M===!0&&w(()=>{y(n.modelValue)});const b={show:m,hide:d,toggle:H};return Object.assign(c,b),b}function q(e,t,r){let l;function u(){l!==void 0&&(h.remove(l),l=void 0)}return U(()=>{e.value===!0&&u()}),{removeFromHistory:u,addToHistory(){l={condition:()=>r.value===!0,handler:t},h.add(l)}}}function E(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,P(t))}}}function F(e,t,r){return r<=t?t:Math.min(r,Math.max(t,e))}function I(e,t,r){if(r<=t)return t;const l=r-t+1;let u=t+(e-t)%l;return u<t&&(u=l+u),u===0?0:u}function k(e,t=2,r="0"){if(e==null)return e;const l=""+e;return l.length>=t?l:new Array(t-l.length+1).join(r)+l}export{B as a,j as b,x as c,q as d,E as e,F as f,I as n,k as p,z as u};
